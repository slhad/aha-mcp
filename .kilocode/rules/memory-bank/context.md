# Context

Current focus: Memory bank maintenance and architecture documentation updates to ensure accuracy.
Recent changes: Updated memory bank files to reflect current project structure. Corrected architecture documentation to accurately show that [`src/index.ts`](src/index.ts:1) is the main entry point that handles MCP server creation, module registration, and transport selection. Removed references to non-existent `homeAssistantMcpServer.ts` file. Updated brief.md to include comprehensive feature set including entity registry, device registry, configuration flows, and Lovelace dashboard management. Architecture now correctly shows modular design with transport layer separation.
Unit tests support dual-mode: mock and real Home Assistant instance. Test mode is determined automatically: if [`tests/hass-real-config.ts`](tests/hass-real-config.ts:1) exists, tests use real credentials (file is ignored from git/docker); otherwise, tests run in mock mode.
Project status: Feature-complete with many production-ready MCP tools, comprehensive documentation in [`tools.md`](tools.md:1), and multiple deployment options. Ready for production use with Home Assistant instances. Memory bank architecture documentation now accurately reflects current codebase structure.